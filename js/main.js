"use strict";var $offset=2,$limit=4,productBox=document.getElementById("js-productBox"),productItem=document.getElementsByClassName("js-productBox__item"),loadMoreButton=document.getElementById("js-loadMoreButton");function postAjax(t,e,o){var n="string"==typeof e?e:Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"),s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return s.open("POST",t),s.onreadystatechange=function(){3<s.readyState&&200===s.status&&o(s.responseText)},s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(n),s}loadMoreButton.addEventListener("click",function(){$offset+=1;for(var t=productItem.length;t--;)productItem[t].classList.add("is-visible"),productItem[t].classList.remove("productBox__item--hidden");return postAjax("/server/load.php","offset="+$offset+"&limit="+$limit,function(t){var e=JSON.parse(t);e.length&&e.map(function(t){productBox.innerHTML+='<li class="gridBox__item gridBox__item--4column">\n                            <div class="productBox__item productBox__item--hidden js-productBox__item">\n                                <div class="productBox__imgBox">\n                                    <img class="productBox__img" src="'+t.img+'" alt="'+t.title+'">\n                                </div>\n                                <h3 class="productBox__title">'+t.title+'</h3>\n                                <p class="productBox__description">'+t.description+'</p>\n                                <div class="productBox__cost">\n                                    <span class="productBox__cost--discount">\n                                        '+(t.discountCost?"&#36;"+t.discountCost.toFixed(2):"&#36;"+t.cost.toFixed(2))+"\n                                    </span>\n                                    "+(null!==t.discountCost?'<span class="productBox__cost--old">&#36;'+t.cost.toFixed(2)+'</span><div class="productBox__banner productBox__banner--sale">Sale</div>':"")+"\n                                    "+(t.new?'<div class="productBox__banner productBox__banner--new">New</div>':"")+'\n                                </div>\n                                <div class="buttonBox">\n                                    <button class="buttonSite buttonSite--primary">Add to cart</button>\n                                    <a href="#" class="buttonSite buttonSite--secondary">View</a>\n                                </div>\n                            </div>\n                        </li>'}),0===e.length&&(loadMoreButton.style.display="none")}),!1});